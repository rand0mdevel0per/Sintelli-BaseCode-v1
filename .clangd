# =============================================================================
# iFlow项目 - clangd语言服务器配置
# 
# 项目: CUDA神经网络模拟器
# 版本: 1.0
# 日期: 2025-10-03
# =============================================================================

# -----------------------------------------------------------------------------
# 编译标志配置
# -----------------------------------------------------------------------------
CompileFlags:
  # 添加的编译标志
  Add:
    - -std=c++20                          # C++20语言标准
    - -xcuda                              # 启用CUDA语言支持
    - --cuda-gpu-arch=sm_75              # CUDA GPU架构设置（sm_75）
    - -I/usr/local/cuda/include           # CUDA头文件路径
    - -I${workspaceFolder}/cutlass/include           # CUTLASS库头文件
    - -I${workspaceFolder}/cutlass/tools/util/include # CUTLASS工具头文件
    - -I${workspaceFolder}                # 项目根目录包含路径
  
  # 移除的编译标志（避免冲突）
  Remove:
    - -W*                                 # 禁用所有警告
    - -Wall                               # 禁用Wall警告
    - -Wextra                             # 禁用额外警告

# -----------------------------------------------------------------------------
# 索引配置
# -----------------------------------------------------------------------------
Index:
  Background: Build                         # 后台构建索引模式

# -----------------------------------------------------------------------------
# 诊断配置
# -----------------------------------------------------------------------------
Diagnostics:
  # ClangTidy静态分析配置
  ClangTidy:
    Add: 
      - readability-*                      # 启用所有可读性检查
      - performance-*                      # 启用所有性能检查
    Remove:
      - readability-magic-numbers          # 禁用魔数检查（CUDA代码常用常数）
      - readability-uppercase-literal-suffix # 禁用字面量后缀检查
  
  # 未使用包含检查
  UnusedIncludes: Strict                   # 严格检查未使用的包含

# -----------------------------------------------------------------------------
# 内联提示配置
# -----------------------------------------------------------------------------
InlayHints:
  Enabled: Yes                             # 启用内联提示
  ParameterNames: Yes                      # 显示参数名称
  DeducedTypes: Yes                        # 显示推导类型

# -----------------------------------------------------------------------------
# 悬停提示配置
# -----------------------------------------------------------------------------
Hover:
  ShowAKA: Yes                             # 显示类型别名信息

# -----------------------------------------------------------------------------
# 代码补全配置
# -----------------------------------------------------------------------------
Completion:
  AllScopes: Yes                           # 在所有作用域中启用补全
